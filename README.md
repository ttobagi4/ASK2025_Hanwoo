# 🥇 ASK2025 (2학기 ~ 동계방학 진행)
⭐ 주제 : K-Means 클러스터링을 활용한 한우 육질등급 판정 자동화 알고리즘 구현

본 연구에서는 한우 육질등급 평가의 신속성과 일관성을 향상하기 위해 Python과 OpenCV 기반의 자동화 알고리즘을 구현하였다. 전문가에 의해 이루어지는 기존의 주관적 평가 방식을 대체하여 근내지방도, 육색, 지방색, 조직감을 정량적으로 분석하고 최종 육질등급을 도출한다. 알고리즘은 이미지 전처리, 근내지방도 계산, 육질 및 지방부 대표색 분석, 조직감 평가 과정을 거쳐 객관적이고 일관된 결과를 출력한다. 이를 통해 축산업에서 품질 평가 효율성을 높이고, 영상처리 기술을 활용한 자동화 시스템의 발전에 기여할 것으로 기대된다.

- 저자 : 김민지
- 공저자 : 이규원, 이성재, 류병석, 김영균
  
## 1️⃣ 데이터셋
- 한국지능정보사회진흥원(NIA) AI-HUB 축산물 품질(QC) 이미지
- 소도체 등급별(1++, 1+, 1, 2, 3) 원천데이터 총 715장

## 2️⃣ 내용
#### 1. 이미지 불러오기
#### 2. 이미지 전처리
- 노이즈 제거 : Bilateral Filter (엣지 보존 블러링)
- 밝기 조정 : R,G,B 가중 평균 → 목표 밝기 정규화
- 대비 보정 : 밝기 표준편차 기반 → 목표 대비에 맞춰 조정
- 선명도 향상 : Laplacian Filter (엣지 강조), Unsharp Mask (경계 선명화)
- ROI 분리 : GrabCut 알고리즘 (배경 제거)
#### 3. 육질등급 판정기준 분석
- 근내지방도 계산 : 이진화 → 육질/지방 분리 → 지방 비율 계산
- 육질/지방부 대표색 선정 : CIE Lab 변환 및 K-Means 클러스터링
- 조직감 분석 : HSV 변환 후 Hue, Saturation 값 분석
#### 4. 육질등급 판정
- 육질등급 : 근내지방도에 따라 5가지로 구분함 (1++, 1+, 1, 2, 3)
- 육색과 지방색 : 정상(Acceptable) 또는 비정상(Unacceptable)으로 판정
- 조직감 : H값 평균이 94 이하이고 S값 평균이 167 이상이면 '양호(Good)'로 출력

![result(ex)](https://github.com/ttobagi4/ASK2025_Hanwoo/blob/main/result(ex).png)

## 3️⃣ 연구 결과
- 전체 평균 정확도 79.7%
- 등급별 정확도 : (1++에서 3등급 순으로) 84.29%, 62.86%, 82.14%, 85.71%, 83.57%

![confusion matrix](https://github.com/ttobagi4/ASK2025_Hanwoo/blob/main/confusion%20matrix.png)

## 4️⃣ 한계 & 보완할 점들
- 오판정은 주로 인접 등급 간에서 발생했음
- 특히 근내지방도 범위가 좁은 1+ 등급에서 가장 많은 혼동이 나타났음 (정확도에서 확인 가능)
- 다양한 촬영 환경과 고기의 변질 상태를 충분히 반영 X
- 딥러닝으로 육질 영역 검출 후 opencv (혹은 타 라이브러리) 이미지 처리 도입하면 정확도 향상 기대 가능
